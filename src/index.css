@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Design tokens tuned to requested palette (no dark mode) */
    /* Off-white background that pairs with provided grays (#F7F7F4 approx) */
    --background: 60 14% 96%;
    /* Foreground uses the dark tone #4F4F51 */
    --foreground: 240 3% 31%;

    /* Surfaces */
    --card: 0 0% 100%;
    --card-foreground: 240 3% 31%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 3% 31%;

    /* Primary = dark tone, Secondary = medium tone */
    --primary: 240 3% 31%;         /* #4F4F51 */
    --primary-foreground: 0 0% 100%;
    --secondary: 55 6% 61%;        /* #A1A094 */
    --secondary-foreground: 240 6% 15%;

    /* Muted and Accent = lighter neutrals harmonized with palette */
    --muted: 60 12% 92%;           /* subtle panels */
    --muted-foreground: 240 4% 40%;
    --accent: 55 10% 88%;
    --accent-foreground: 240 5% 25%;

    /* Feedback colors keep defaults for now */
    --destructive: 0 72% 55%;
    --destructive-foreground: 0 0% 100%;

    /* UI chrome */
    --border: 240 10% 85%;
    --input: 240 10% 85%;
    --ring: 240 3% 31%;

    --radius: 0.8rem;

    /* Legacy variables for backward compatibility */
    --color-light: #ffffff;
    --color-dark: #4F4F51;
  }

  /* Dark class is intentionally mapped to light tokens (no dark theme) */
  .dark {
    --background: 60 14% 96%;
    --foreground: 240 3% 31%;
    --card: 0 0% 100%;
    --card-foreground: 240 3% 31%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 3% 31%;
    --primary: 240 3% 31%;
    --primary-foreground: 0 0% 100%;
    --secondary: 55 6% 61%;
    --secondary-foreground: 240 6% 15%;
    --muted: 60 12% 92%;
    --muted-foreground: 240 4% 40%;
    --accent: 55 10% 88%;
    --accent-foreground: 240 5% 25%;
    --destructive: 0 72% 55%;
    --destructive-foreground: 0 0% 100%;
    --border: 240 10% 85%;
    --input: 240 10% 85%;
    --ring: 240 3% 31%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family:
      "Inter Variable",
      ui-sans-serif,
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      "Helvetica Neue",
      Arial,
      "Noto Sans",
      sans-serif,
      "Apple Color Emoji",
      "Segoe UI Emoji",
      "Segoe UI Symbol",
      "Noto Color Emoji";
  }
}

/* Theme bridge: map legacy utility colors used in components to theme tokens */
@layer utilities {
  /* Primary blues -> theme primary */
  .bg-blue-600 { background-color: hsl(var(--primary)) !important; }
  .hover\:bg-blue-700:hover { background-color: hsl(var(--primary) / 0.92) !important; }
  .text-blue-600 { color: hsl(var(--primary)) !important; }
  .text-blue-800 { color: hsl(var(--primary)) !important; }
  .border-blue-500 { border-color: hsl(var(--primary)) !important; }
  .border-blue-200 { border-color: hsl(var(--secondary)) !important; }
  .bg-blue-50 { background-color: hsl(var(--accent)) !important; }

  /* Neutrals -> theme neutrals */
  .bg-gray-50 { background-color: hsl(var(--muted)) !important; }
  .text-gray-900 { color: hsl(var(--foreground)) !important; }
  .text-gray-600, .text-gray-500 { color: hsl(var(--muted-foreground)) !important; }
  .border-gray-200 { border-color: hsl(var(--border)) !important; }
}

.accent-text {
  @apply text-secondary;
}

/* only use this to update the style of the auth input fields. use a different class for all other input fields */
.auth-input-field {
  @apply w-full px-4 py-3 rounded-container bg-white border border-gray-200 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-shadow shadow-sm hover:shadow;
}

/* only use this to update the style of the auth buttons. use the button class for all other buttons */
.auth-button {
  @apply w-full px-4 py-3 rounded bg-primary text-white font-semibold hover:bg-primary-hover transition-colors shadow-sm hover:shadow disabled:opacity-50 disabled:cursor-not-allowed;
}
